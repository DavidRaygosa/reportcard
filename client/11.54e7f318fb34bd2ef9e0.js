(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{ZrMn:function(e,t,a){"use strict";a.r(t),a.d(t,"TeachersModule",function(){return F});var i=a("ofXK"),r=a("tyNb"),c=a("IPfh");class s{constructor(e,t,a,i,r,c,s){this.name=e,this.lastnamep=t,this.lastnamem=a,this.grade=i,this.turn=r,this.subjects=c,this.groups=s}}var n=a("FQVY"),b=a("m86e"),o=a("ELNm"),l=a.n(o),d=a("fXoL"),h=a("3Pt+");const u=["btn_closeNewTeacher"],m=["closeDeleteModal"],g=["deleteModalBtn"],L=["editNameDOM"],f=["editLastnamePDOM"],p=["editLastnameMDOM"],v=["editGradeDOM"],K=["btn_closeEditTeacher"],y=["editModalBtn"],T=["searchModal"];function M(e,t){1&e&&(d.Lb(0,"div",2),d.Jb(1,"div",3),d.Kb())}function P(e,t){1&e&&(d.Lb(0,"div",105),d.gc(1," \xa1Exitosamente Registrado! "),d.Kb())}function w(e,t){1&e&&(d.Lb(0,"div",106),d.gc(1," \xa1Exitosamente Actualizado! "),d.Kb())}function k(e,t){1&e&&(d.Lb(0,"div",107),d.gc(1," \xa1Exitosamente Eliminado! "),d.Kb())}function S(e,t){if(1&e){const e=d.Mb();d.Lb(0,"tr"),d.Lb(1,"th",108),d.gc(2),d.Kb(),d.Lb(3,"td"),d.gc(4),d.Kb(),d.Lb(5,"td"),d.gc(6),d.Kb(),d.Lb(7,"td"),d.gc(8),d.Kb(),d.Lb(9,"td"),d.gc(10),d.Kb(),d.Lb(11,"td"),d.Lb(12,"button",109),d.Sb("click",function(){d.cc(e);const a=t.$implicit;return d.Ub(2).setTeacherEdit(a._id)}),d.Jb(13,"i",110),d.Kb(),d.Kb(),d.Lb(14,"td"),d.Lb(15,"button",111),d.Sb("click",function(){d.cc(e);const a=t.$implicit;return d.Ub(2).getTeacherID(a._id)}),d.Jb(16,"i",112),d.Kb(),d.Kb(),d.Kb()}if(2&e){const e=t.$implicit,a=t.index;d.yb(2),d.hc(a+1),d.yb(2),d.hc(e.name),d.yb(2),d.hc(e.lastnamep),d.yb(2),d.hc(e.lastnamem),d.yb(2),d.hc(e.grade)}}function _(e,t){if(1&e){const e=d.Mb();d.Lb(0,"li",113),d.Sb("click",function(){d.cc(e);const a=t.$implicit;return d.Ub(2).setActivePagination(a)}),d.Lb(1,"a",114),d.Sb("click",function(){d.cc(e);const a=t.$implicit;return d.Ub(2).changePage(a)}),d.gc(2),d.Kb(),d.Kb()}if(2&e){const e=t.$implicit,a=d.Ub(2);d.Ab("active",a.selectedPage==e),d.yb(2),d.hc(e)}}function E(e,t){if(1&e){const e=d.Mb();d.Lb(0,"li",115),d.Lb(1,"div",116),d.Lb(2,"div",117),d.gc(3),d.Kb(),d.Lb(4,"div",118),d.Lb(5,"button",119),d.Sb("click",function(){d.cc(e);const a=t.index;return d.Ub(2).deleteNewSubject(a)}),d.Jb(6,"i",112),d.Kb(),d.Kb(),d.Kb(),d.Kb()}if(2&e){const e=t.$implicit,a=t.index;d.yb(3),d.jc("",a+1," - ",e,"")}}function I(e,t){if(1&e&&(d.Lb(0,"div",120),d.gc(1),d.Kb()),2&e){const e=d.Ub(2);d.yb(1),d.ic(" ",e.error_message," ")}}function x(e,t){if(1&e&&(d.Lb(0,"div"),d.Lb(1,"select",121),d.Lb(2,"option",50),d.gc(3),d.Kb(),d.Lb(4,"option",51),d.gc(5,"Matutino"),d.Kb(),d.Lb(6,"option",54),d.gc(7,"Vespertino"),d.Kb(),d.Lb(8,"option",55),d.gc(9,"Ambos"),d.Kb(),d.Kb(),d.Kb()),2&e){const e=d.Ub(2);d.yb(3),d.hc(e.teacher.turn)}}function O(e,t){if(1&e){const e=d.Mb();d.Lb(0,"li",115),d.Lb(1,"div",116),d.Lb(2,"div",117),d.gc(3),d.Kb(),d.Lb(4,"div",118),d.Lb(5,"button",119),d.Sb("click",function(){d.cc(e);const a=t.index;return d.Ub(3).deleteEditSubject(a)}),d.Jb(6,"i",112),d.Kb(),d.Kb(),d.Kb(),d.Kb()}if(2&e){const e=t.$implicit,a=t.index;d.yb(3),d.jc("",a+1," - ",e,"")}}function D(e,t){if(1&e&&(d.Lb(0,"div"),d.fc(1,O,7,2,"li",62),d.Kb()),2&e){const e=d.Ub(2);d.yb(1),d.Xb("ngForOf",e.teacher.subjects)}}function N(e,t){if(1&e&&(d.Lb(0,"div",120),d.gc(1),d.Kb()),2&e){const e=d.Ub(2);d.yb(1),d.ic(" ",e.error_edit_message," ")}}function j(e,t){if(1&e){const e=d.Mb();d.Lb(0,"tr"),d.Lb(1,"th",108),d.gc(2),d.Kb(),d.Lb(3,"td"),d.gc(4),d.Kb(),d.Lb(5,"td"),d.gc(6),d.Kb(),d.Lb(7,"td"),d.gc(8),d.Kb(),d.Lb(9,"td"),d.gc(10),d.Kb(),d.Lb(11,"td"),d.Lb(12,"button",123),d.Sb("click",function(){d.cc(e);const a=t.$implicit;return d.Ub(3).setTeacherEdit(a._id)}),d.Jb(13,"i",110),d.Kb(),d.Kb(),d.Lb(14,"td"),d.Lb(15,"button",124),d.Sb("click",function(){d.cc(e);const a=t.$implicit;return d.Ub(3).getTeacherID(a._id)}),d.Jb(16,"i",112),d.Kb(),d.Kb(),d.Kb()}if(2&e){const e=t.$implicit,a=t.index;d.yb(2),d.hc(a+1),d.yb(2),d.hc(e.name),d.yb(2),d.hc(e.lastnamep),d.yb(2),d.hc(e.lastnamem),d.yb(2),d.hc(e.grade)}}function C(e,t){if(1&e&&(d.Lb(0,"div",122),d.Lb(1,"table",18),d.Lb(2,"thead",19),d.Lb(3,"tr"),d.Lb(4,"th",20),d.gc(5,"#"),d.Kb(),d.Lb(6,"th",20),d.gc(7,"Nombre"),d.Kb(),d.Lb(8,"th",20),d.gc(9,"Apellido Paterno"),d.Kb(),d.Lb(10,"th",20),d.gc(11,"Apellido Materno"),d.Kb(),d.Lb(12,"th",20),d.gc(13,"Puesto"),d.Kb(),d.Lb(14,"th",20),d.gc(15,"Editar"),d.Kb(),d.Lb(16,"th",20),d.gc(17,"Eliminar"),d.Kb(),d.Kb(),d.Kb(),d.Lb(18,"tbody"),d.fc(19,j,17,5,"tr",21),d.Kb(),d.Kb(),d.Kb()),2&e){const e=d.Ub(2);d.yb(19),d.Xb("ngForOf",e.searchResults)}}function B(e,t){1&e&&(d.Lb(0,"div"),d.Lb(1,"h3"),d.gc(2,"Sin Ningun Resultado"),d.Kb(),d.Jb(3,"br"),d.Lb(4,"span"),d.gc(5,"La busqueda se realiza considerando solamente el "),d.Lb(6,"span",125),d.gc(7,"APELLIDO PATERNO"),d.Kb(),d.gc(8," del profesor"),d.Kb(),d.Kb())}function U(e,t){if(1&e){const e=d.Mb();d.Lb(0,"div",4),d.fc(1,P,2,0,"div",5),d.fc(2,w,2,0,"div",6),d.fc(3,k,2,0,"div",7),d.Lb(4,"div",8),d.Lb(5,"h1",9),d.Jb(6,"b",10),d.Kb(),d.Jb(7,"hr"),d.Kb(),d.Lb(8,"div",11),d.Lb(9,"button",12),d.Sb("click",function(){return d.cc(e),d.Ub().newTeacher()}),d.gc(10,"Agregar Profesor"),d.Kb(),d.Lb(11,"form",13,14),d.Sb("submit",function(t){d.cc(e);const a=d.ac(12);return d.Ub().onSearchSubmit(t,a)}),d.Jb(13,"input",15),d.Lb(14,"button",16),d.gc(15,"Buscar"),d.Kb(),d.Kb(),d.Kb(),d.Lb(16,"div",17),d.Lb(17,"table",18),d.Lb(18,"thead",19),d.Lb(19,"tr"),d.Lb(20,"th",20),d.gc(21,"#"),d.Kb(),d.Lb(22,"th",20),d.gc(23,"Nombre"),d.Kb(),d.Lb(24,"th",20),d.gc(25,"Apellido Paterno"),d.Kb(),d.Lb(26,"th",20),d.gc(27,"Apellido Materno"),d.Kb(),d.Lb(28,"th",20),d.gc(29,"Puesto"),d.Kb(),d.Lb(30,"th",20),d.gc(31,"Editar"),d.Kb(),d.Lb(32,"th",20),d.gc(33,"Eliminar"),d.Kb(),d.Kb(),d.Kb(),d.Lb(34,"tbody"),d.fc(35,S,17,5,"tr",21),d.Kb(),d.Kb(),d.Kb(),d.Lb(36,"div",22),d.Lb(37,"nav",23),d.Lb(38,"ul",24),d.Lb(39,"li",25),d.Lb(40,"a",26),d.Sb("click",function(){return d.cc(e),d.Ub().backListPage(!0)}),d.Lb(41,"span",27),d.gc(42,"\xab"),d.Kb(),d.Kb(),d.Kb(),d.fc(43,_,3,3,"li",28),d.Vb(44,"slice"),d.Lb(45,"li",29),d.Lb(46,"a",26),d.Sb("click",function(){return d.cc(e),d.Ub().nextListPage(!0)}),d.Lb(47,"span",27),d.gc(48,"\xbb"),d.Kb(),d.Kb(),d.Kb(),d.Kb(),d.Kb(),d.Kb(),d.Lb(49,"div",30),d.Lb(50,"div",31),d.Lb(51,"div",32),d.Lb(52,"div",33),d.Lb(53,"h5",34),d.gc(54,"Registrar profesor"),d.Kb(),d.Lb(55,"button",35,36),d.Lb(57,"span",27),d.gc(58,"\xd7"),d.Kb(),d.Kb(),d.Kb(),d.Lb(59,"form",37,38),d.Sb("submit",function(t){d.cc(e);const a=d.ac(60);return d.Ub().onNewSubmit(t,a)}),d.Lb(61,"div",39),d.Lb(62,"div",40),d.Lb(63,"label",41),d.gc(64,"Nombre"),d.Kb(),d.Lb(65,"div",42),d.Jb(66,"input",43),d.Kb(),d.Kb(),d.Lb(67,"div",40),d.Lb(68,"label",44),d.gc(69,"Apellido Paterno"),d.Kb(),d.Lb(70,"div",42),d.Jb(71,"input",45),d.Kb(),d.Kb(),d.Lb(72,"div",40),d.Lb(73,"label",46),d.gc(74,"Apellido Materno"),d.Kb(),d.Lb(75,"div",42),d.Jb(76,"input",47),d.Kb(),d.Kb(),d.Lb(77,"div",40),d.Lb(78,"label",48),d.gc(79,"Puesto"),d.Kb(),d.Lb(80,"div",42),d.Lb(81,"select",49),d.Lb(82,"option",50),d.gc(83,"Puesto..."),d.Kb(),d.Lb(84,"option",51),d.gc(85,"Profesor"),d.Kb(),d.Kb(),d.Kb(),d.Kb(),d.Lb(86,"div",40),d.Lb(87,"label",52),d.gc(88,"Turno"),d.Kb(),d.Lb(89,"div",42),d.Lb(90,"select",53),d.Lb(91,"option",50),d.gc(92,"Turno..."),d.Kb(),d.Lb(93,"option",51),d.gc(94,"Matutino"),d.Kb(),d.Lb(95,"option",54),d.gc(96,"Vespertino"),d.Kb(),d.Lb(97,"option",55),d.gc(98,"Ambos"),d.Kb(),d.Kb(),d.Kb(),d.Kb(),d.Lb(99,"div",40),d.Lb(100,"label",56),d.gc(101,"Agregar Materia"),d.Kb(),d.Lb(102,"div",42),d.Lb(103,"form",57,58),d.Sb("submit",function(t){return d.cc(e),d.Ub().onSubmit(t)}),d.Jb(105,"input",59),d.Lb(106,"button",60),d.Lb(107,"small"),d.gc(108,"Agregar"),d.Kb(),d.Kb(),d.Kb(),d.Kb(),d.Kb(),d.Lb(109,"div",40),d.Lb(110,"label",61),d.gc(111,"Lista de Materias"),d.Kb(),d.Lb(112,"div",42),d.fc(113,E,7,2,"li",62),d.Kb(),d.Kb(),d.Kb(),d.Lb(114,"div",63),d.fc(115,I,2,1,"div",64),d.Lb(116,"button",65),d.gc(117,"Registrar"),d.Kb(),d.Kb(),d.Kb(),d.Kb(),d.Kb(),d.Kb(),d.Jb(118,"button",66,67),d.Lb(120,"div",68),d.Lb(121,"div",69),d.Lb(122,"div",70),d.Lb(123,"div",33),d.Lb(124,"h5",71),d.gc(125,"Borrar Profesor"),d.Kb(),d.Lb(126,"button",35),d.Lb(127,"span",27),d.gc(128,"\xd7"),d.Kb(),d.Kb(),d.Kb(),d.Lb(129,"div",39),d.Lb(130,"p",72),d.gc(131,"Esta acci\xf3n borrar\xe1 permanenteme al profesor de la base de datos (lista)."),d.Kb(),d.Jb(132,"br"),d.Lb(133,"p",72),d.gc(134,"\xbfDesea borrarlo?"),d.Kb(),d.Lb(135,"form",73),d.Lb(136,"button",74),d.Sb("click",function(){return d.cc(e),d.Ub().delete()}),d.gc(137,"Borrar"),d.Kb(),d.Kb(),d.Kb(),d.Lb(138,"div",63),d.Lb(139,"button",75,76),d.gc(142,"Cancelar"),d.Kb(),d.Kb(),d.Kb(),d.Kb(),d.Kb(),d.Jb(143,"button",77,78),d.Lb(145,"div",79),d.Lb(146,"div",31),d.Lb(147,"div",32),d.Lb(148,"div",33),d.Lb(149,"h5",80),d.gc(150,"Actualizar profesor"),d.Kb(),d.Lb(151,"button",35,81),d.Lb(153,"span",27),d.gc(154,"\xd7"),d.Kb(),d.Kb(),d.Kb(),d.Lb(155,"form",37,82),d.Sb("submit",function(t){d.cc(e);const a=d.ac(156);return d.Ub().onEditSubmit(t,a)}),d.Lb(157,"div",39),d.Lb(158,"div",40),d.Lb(159,"label",83),d.gc(160,"Nombre"),d.Kb(),d.Lb(161,"div",42),d.Jb(162,"input",84,85),d.Kb(),d.Kb(),d.Lb(164,"div",40),d.Lb(165,"label",86),d.gc(166,"Apellido Paterno"),d.Kb(),d.Lb(167,"div",42),d.Jb(168,"input",87,88),d.Kb(),d.Kb(),d.Lb(170,"div",40),d.Lb(171,"label",89),d.gc(172,"Apellido Materno"),d.Kb(),d.Lb(173,"div",42),d.Jb(174,"input",90,91),d.Kb(),d.Kb(),d.Lb(176,"div",40),d.Lb(177,"label",92),d.gc(178,"Puesto"),d.Kb(),d.Lb(179,"div",42),d.Jb(180,"input",93,94),d.Kb(),d.Kb(),d.Lb(182,"div",40),d.Lb(183,"label",95),d.gc(184,"Turno"),d.Kb(),d.Lb(185,"div",42),d.fc(186,x,10,1,"div",96),d.Kb(),d.Kb(),d.Lb(187,"div",40),d.Lb(188,"label",97),d.gc(189,"Agregar Materia"),d.Kb(),d.Lb(190,"div",42),d.Lb(191,"form",57,58),d.Sb("submit",function(t){return d.cc(e),d.Ub().editOnSubmit(t)}),d.Jb(193,"input",98),d.Lb(194,"button",60),d.Lb(195,"small"),d.gc(196,"Agregar"),d.Kb(),d.Kb(),d.Kb(),d.Kb(),d.Kb(),d.Lb(197,"div",40),d.Lb(198,"label",99),d.gc(199,"Lista de Materias"),d.Kb(),d.Lb(200,"div",42),d.fc(201,D,2,1,"div",96),d.Kb(),d.Kb(),d.Kb(),d.Lb(202,"div",63),d.fc(203,N,2,1,"div",64),d.Lb(204,"button",100),d.gc(205,"Actualizar"),d.Kb(),d.Kb(),d.Kb(),d.Kb(),d.Kb(),d.Kb(),d.Lb(206,"div",101),d.Lb(207,"div",31),d.Lb(208,"div",70),d.Lb(209,"div",33),d.Lb(210,"h5",102),d.gc(211,"Busqueda de Profesor"),d.Kb(),d.Lb(212,"button",35),d.Lb(213,"span",27),d.gc(214,"\xd7"),d.Kb(),d.Kb(),d.Kb(),d.Lb(215,"div",39),d.fc(216,C,20,1,"div",103),d.fc(217,B,9,0,"div",96),d.Kb(),d.Lb(218,"div",63),d.Lb(219,"button",75,104),d.gc(221,"Cancelar"),d.Kb(),d.Kb(),d.Kb(),d.Kb(),d.Kb(),d.Kb()}if(2&e){const e=d.ac(12),t=d.ac(60),a=d.ac(104),i=d.Ub();d.yb(1),d.Xb("ngIf",i.successRegister),d.yb(1),d.Xb("ngIf",i.successEdit),d.yb(1),d.Xb("ngIf",i.successDelete),d.yb(11),d.Xb("disabled",!e.valid),d.yb(21),d.Xb("ngForOf",i.Teachers),d.yb(8),d.Xb("ngForOf",d.Wb(44,16,i.NumberofPagination,i.viewListPage.start,i.viewListPage.end)),d.yb(63),d.Xb("disabled",!a.valid),d.yb(7),d.Xb("ngForOf",i.newSubject),d.yb(2),d.Xb("ngIf",i.error),d.yb(1),d.Xb("disabled",!t.valid),d.yb(70),d.Xb("ngIf",i.editLoaded),d.yb(8),d.Xb("disabled",!a.valid),d.yb(7),d.Xb("ngIf",i.editLoaded),d.yb(2),d.Xb("ngIf",i.error_edit),d.yb(13),d.Xb("ngIf",i.search),d.yb(1),d.Xb("ngIf",!i.search)}}const A=[{path:"",component:(()=>{class e{constructor(e,t,a){this._teacherService=e,this._generalService=t,this._groupService=a,this.loading=!0,this.error=!1,this.error_message="",this.successRegister=!1,this.successDelete=!1,this.NumberofPagination=[],this.selectedPage=0,this.selectedListPage=0,this.editLoaded=!1,this.error_edit=!1,this.error_edit_message="",this.successEdit=!1,this.search=!1,this.newSubject=[],this.TeacherToCreate=new s("","","","","",[],[])}teachertocreateContructor(){this.TeacherToCreate=new s("","","","","",[],[])}ngOnInit(){this.loading=!0,this.TeachersLenght()}newTeacher(){let e=document.getElementById("selectNewGrade"),t=document.getElementById("selectNewTurn");e.value="0",t.value="0"}onSubmit(e){e.target.Subject.value.length>0&&(this.newSubject.push(e.target.Subject.value),e.target.Subject.value="")}deleteNewSubject(e){this.newSubject.splice(e,1)}onNewSubmit(e,t){let a=document.getElementById("selectNewGrade"),i=document.getElementById("selectNewTurn");this.isEmptyField_new(a,i)&&this.registerNewTeacher(t,a,i)}registerNewTeacher(e,t,a){this.TeacherToCreate.name=e.value.newName.toUpperCase(),this.TeacherToCreate.lastnamep=e.value.newLastnameP.toUpperCase(),this.TeacherToCreate.lastnamem=e.value.newLastnameM.toUpperCase(),"1"==t.value&&(this.TeacherToCreate.grade="PROFESOR"),"1"==a.value&&(this.TeacherToCreate.turn="MATUTINO"),"2"==a.value&&(this.TeacherToCreate.turn="VESPERTINO"),"3"==a.value&&(this.TeacherToCreate.turn="AMBOS"),this.newSubject=this.newSubject.map(function(e){return e.toUpperCase()}),this.TeacherToCreate.subjects=this.newSubject,this.TeacherToCreate.groups=[],this.cleanform_new(e,t,a),this._teacherService.createTeacher(this.TeacherToCreate).subscribe(e=>{this._generalService.getGeneral().subscribe(e=>{e.documents[0].teacherslenght++,this._generalService.updateGeneral(e.documents[0]).subscribe(e=>{this.teachertocreateContructor(),this.successRegister=!0,this.ngOnInit(),setTimeout(()=>{this.successRegister=!1},5e3)})})})}isEmptyField_new(e,t){return this.error=!1,this.error_message="","0"==e.value?(this.error=!0,this.error_message="Por favor agrega un puesto al profesor",!1):"0"==t.value?(this.error=!0,this.error_message="Por favor agrega un turno al profesor",!1):0!=this.newSubject.length||(this.error=!0,this.error_message="Por favor ingrese al menos 1 materia",!1)}cleanform_new(e,t,a){e.reset(),t.value="0",a.value="0",this.newSubject=[],this.btn_closeNewTeacher.nativeElement.click()}TeachersLenght(){this._generalService.getGeneral().subscribe(e=>{this.loading=!1,this.startTyped(),this.NumberofPagination=[],this.paginationList=[];let t=0;for(let a=0;a<Math.ceil(e.documents[0].teacherslenght/5);a++)t++,this.NumberofPagination.push(a+1),5==t&&(t=0,this.paginationList.push("list"));this.changePage(1),this.setActivePagination(1),this.setListPage()})}changePage(e){this.rangeTeachers=1==e?{skip:0}:{skip:5*(e-1)},this.getTeachers()}setActivePagination(e){this.selectedListPage=Math.ceil(e/5)-1,this.selectedPage=e,setTimeout(()=>{let e=document.getElementById("backListButton"),t=document.getElementById("nextListButton");this.checkIfDisabledBackListPage(e),this.checkIfDisabledNextListPage(t)},1)}setListPage(){this.viewListPage={start:5*this.selectedListPage,end:5*(this.selectedListPage+1)}}checkIfDisabledBackListPage(e){this.loading||0==this.selectedListPage&&e.classList.add("disabled")}checkIfDisabledNextListPage(e){this.loading||this.selectedListPage==Math.ceil(this.paginationList.length)&&e.classList.add("disabled")}nextListPage(e=!1){let t=document.getElementById("backListButton"),a=document.getElementById("nextListButton");t.classList.remove("disabled"),e&&this.selectedListPage++,this.checkIfDisabledNextListPage(a),this.viewListPage={start:5*this.selectedListPage,end:5*(this.selectedListPage+1)}}backListPage(e=!1){let t=document.getElementById("backListButton");document.getElementById("nextListButton").classList.remove("disabled"),e&&this.selectedListPage--,this.checkIfDisabledBackListPage(t),this.viewListPage={start:5*this.selectedListPage,end:5*(this.selectedListPage+1)}}getTeachers(){this._teacherService.getTeachersRange(this.rangeTeachers.skip).subscribe(e=>this.Teachers=e.documents)}getTeacherID(e){this.search&&(this.searchModal.nativeElement.click(),this.search=!1,setTimeout(()=>{this.deleteModalBtn.nativeElement.click()},500)),this.IDTeacher=e}delete(){this._teacherService.getTeacherByID(this.IDTeacher).subscribe(e=>{e.document.groups.forEach(e=>{this._groupService.getGroupByID(e.id_group).subscribe(e=>{e.document.monday.forEach((t,a)=>{t.teacher_id==this.IDTeacher&&e.document.monday.splice(a,1)}),e.document.tuesday.forEach((t,a)=>{t.teacher_id==this.IDTeacher&&e.document.tuesday.splice(a,1)}),e.document.wednesday.forEach((t,a)=>{t.teacher_id==this.IDTeacher&&e.document.wednesday.splice(a,1)}),e.document.thursday.forEach((t,a)=>{t.teacher_id==this.IDTeacher&&e.document.thursday.splice(a,1)}),e.document.friday.forEach((t,a)=>{t.teacher_id==this.IDTeacher&&e.document.friday.splice(a,1)}),this._groupService.updateGroup(e.document).subscribe()})}),this._teacherService.deleteTeacher(this.IDTeacher).subscribe(e=>{this._generalService.getGeneral().subscribe(e=>{e.documents[0].teacherslenght--,this._generalService.updateGeneral(e.documents[0]).subscribe(e=>{this.closeDeleteModal.nativeElement.click(),this.successDelete=!0,this.ngOnInit(),setTimeout(()=>{this.successDelete=!1},5e3)})})})})}onEditSubmit(e,t){if(this.isEmptyInputEdit()){let e=document.getElementById("selectEditTurn");this.teacher.name=this.editNameDOM.nativeElement.value.toUpperCase(),this.teacher.lastnamep=this.editLastnamePDOM.nativeElement.value.toUpperCase(),this.teacher.lastnamem=this.editLastnameMDOM.nativeElement.value.toUpperCase(),"1"==e.value&&(this.teacher.turn="MATUTINO"),"2"==e.value&&(this.teacher.turn="VESPERTINO"),"3"==e.value&&(this.teacher.turn="AMBOS"),this.teacher.subjects=this.teacher.subjects,this.teacher.subjects=this.teacher.subjects.map(function(e){return e.toUpperCase()}),this._teacherService.updateTeacher(this.teacher).subscribe(e=>{this.successEdit=!0,this.cleanform_edit(t),this.ngOnInit(),setTimeout(()=>{this.successEdit=!1},5e3)})}}cleanform_edit(e){e.reset(),this.btn_closeEditTeacher.nativeElement.click()}isEmptyInputEdit(){return this.error_edit=!1,this.error_edit_message="",""==this.editNameDOM.nativeElement.value?(this.error_edit=!0,this.error_edit_message="Por favor Ingresa un nombre",!1):""==this.editLastnamePDOM.nativeElement.value?(this.error_edit=!0,this.error_edit_message="Por favor Ingresa un apellido paterno",!1):""==this.editLastnameMDOM.nativeElement.value?(this.error_edit=!0,this.error_edit_message="Por favor Ingresa un apellido materno",!1):0!=this.teacher.subjects.length||(this.error_edit=!0,this.error_edit_message="Por favor ingrese al menos 1 materia",!1)}setTeacherEdit(e){this.search&&(this.searchModal.nativeElement.click(),this.search=!1,setTimeout(()=>{this.editModalBtn.nativeElement.click()},500)),this._teacherService.getTeacherByID(e).subscribe(e=>{this.teacher=e.document,this.editLoaded=!0,this.editNameDOM.nativeElement.value=this.teacher.name,this.editLastnamePDOM.nativeElement.value=this.teacher.lastnamep,this.editLastnameMDOM.nativeElement.value=this.teacher.lastnamem,this.editGradeDOM.nativeElement.value=this.teacher.grade,setTimeout(()=>{document.getElementById("selectEditTurn").selectedIndex=0},1)})}editOnSubmit(e){e.target.Subject.value.length>0&&(this.teacher.subjects.push(e.target.Subject.value),e.target.Subject.value="")}deleteEditSubject(e){this.teacher.subjects.splice(e,1)}onSearchSubmit(e,t){this.searchResults=[],this.search=!1,this._teacherService.getTeacherByLastname(e.target.searchLastname.value.toUpperCase()).subscribe(e=>{"No Hay Proyectos Para Mostrar"==e.message?this.search=!1:(this.searchResults=e.documents,this.search=!0)})}startTyped(){setTimeout(()=>{if($(".typedTeacher").length){var e=$(".typedTeacher").data("typed-items");e=e.split(","),new l.a(".typedTeacher",{strings:e,loop:!1,typeSpeed:50})}},1)}}return e.\u0275fac=function(t){return new(t||e)(d.Ib(c.a),d.Ib(n.a),d.Ib(b.a))},e.\u0275cmp=d.Cb({type:e,selectors:[["app-teachers"]],viewQuery:function(e,t){if(1&e&&(d.kc(u,1),d.kc(m,1),d.kc(g,1),d.kc(L,1),d.kc(f,1),d.kc(p,1),d.kc(v,1),d.kc(K,1),d.kc(y,1),d.kc(T,1)),2&e){let e;d.Zb(e=d.Tb())&&(t.btn_closeNewTeacher=e.first),d.Zb(e=d.Tb())&&(t.closeDeleteModal=e.first),d.Zb(e=d.Tb())&&(t.deleteModalBtn=e.first),d.Zb(e=d.Tb())&&(t.editNameDOM=e.first),d.Zb(e=d.Tb())&&(t.editLastnamePDOM=e.first),d.Zb(e=d.Tb())&&(t.editLastnameMDOM=e.first),d.Zb(e=d.Tb())&&(t.editGradeDOM=e.first),d.Zb(e=d.Tb())&&(t.btn_closeEditTeacher=e.first),d.Zb(e=d.Tb())&&(t.editModalBtn=e.first),d.Zb(e=d.Tb())&&(t.searchModal=e.first)}},features:[d.xb([c.a,n.a,b.a])],decls:2,vars:2,consts:[["class","h-50 d-flex justify-content-center align-items-center",4,"ngIf"],["class","w-100",4,"ngIf"],[1,"h-50","d-flex","justify-content-center","align-items-center"],["role","status",1,"spinner-border","text-primary"],[1,"w-100"],["class","d-flex justify-content-center alert alert-primary","role","alert","data-aos","fade-up","data-aos-duration","800",4,"ngIf"],["class","d-flex justify-content-center alert alert-success","role","alert","data-aos","fade-up","data-aos-duration","800",4,"ngIf"],["class","d-flex justify-content-center alert alert-danger","role","alert","data-aos","fade-up","data-aos-duration","800",4,"ngIf"],[1,"mt-5"],[1,"fw-bold","text-muted"],["data-typed-items","Profesores",1,"typedTeacher"],["data-aos","fade-right","data-aos-duration","500",1,"d-block","d-sm-flex","mt-5","mb-3"],["data-toggle","modal","data-target","#newTeacherModal",1,"d-block","d-sm-inline-block","my-auto","btn","btn-primary","pl-5","pr-5","mr-5","rounded-0","col-12","col-sm-6","col-lg-4","col-xl-3",3,"click"],[1,"d-flex","justify-content-end","align-items-center","mt-2","mt-sm-0","col-12","col-sm-6","col-lg-6","col-xl-4",3,"submit"],["searchTeacherForm","ngForm"],["type","search","placeholder","Apellido Paterno","aria-label","Search","name","searchLastname","ngModel","","required","",1,"form-control","me-2"],["type","submit","data-toggle","modal","data-target","#searchTeacher",1,"btn","btn-danger","rounded-0","text-white",3,"disabled"],["id","table","data-aos","zoom-in","data-aos-duration","500",1,"tableScroll"],[1,"table","table-striped","table-hover"],[1,"table-dark","my-thead-hover"],["scope","col"],[4,"ngFor","ngForOf"],["id","pagination","data-aos","fade-down","data-aos-duration","500","data-aos-anchor-placement","center-bottom",1,"d-flex","justify-content-center","mt-4"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center","mb-4"],["id","backListButton",1,"page-item"],[1,"page-link","rounded-0","clickeable","noselect",3,"click"],["aria-hidden","true"],["class","page-item clickeable noselect",3,"active","click",4,"ngFor","ngForOf"],["id","nextListButton",1,"page-item"],["id","newTeacherModal","tabindex","-1","role","dialog","aria-labelledby","newTeacherModalLongTitle","aria-hidden","true",1,"modal","fade","bd-example-modal-lg"],["role","document",1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","newTeacherModalLongTitle",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["btn_closeNewTeacher",""],[3,"submit"],["newTeacherForm","ngForm"],[1,"modal-body"],[1,"form-group","row"],["for","newName",1,"col-sm-3","col-form-label"],[1,"col-sm-9"],["type","text","id","newName","placeholder","Nombre","name","newName","ngModel","","required","",1,"form-control"],["for","newLastnameP",1,"col-sm-3","col-form-label"],["type","text","id","newLastnameP","placeholder","Apellido Paterno","name","newLastnameP","ngModel","","required","",1,"form-control"],["for","newLastnameM",1,"col-sm-3","col-form-label"],["type","text","id","newLastnameM","placeholder","Apellido Materno","name","newLastnameM","ngModel","","required","",1,"form-control"],["for","newGrade",1,"col-sm-3","col-form-label"],["id","selectNewGrade","name","newGrade","ngModel","",1,"custom-select"],["selected","","value","0"],["value","1"],["for","newTurn",1,"col-sm-3","col-form-label"],["id","selectNewTurn","name","newTurn","ngModel","",1,"custom-select"],["value","2"],["value","3"],["for","newCourse",1,"col-sm-3","col-form-label"],[1,"d-flex","my-form-register",3,"submit"],["addSubject","ngForm"],["type","text","id","newCourse","placeholder","Materia","name","Subject","ngModel","",1,"form-control"],["type","submit",1,"btn","btn-success",3,"disabled"],["for","newList",1,"col-sm-3","col-form-label"],["class","my-list mb-2",4,"ngFor","ngForOf"],[1,"modal-footer"],["class","alert alert-danger","role","alert",4,"ngIf"],["type","submit",1,"btn","btn-primary",3,"disabled"],["id","launchDeleteModal","data-toggle","modal","data-target","#deleteTeacher",1,"d-none"],["deleteModalBtn",""],["id","deleteTeacher","tabindex","-1","role","dialog","aria-labelledby","borrarUsuarioCenterTitle","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content","rounded-0"],["id","borrarUsuarioLongTitle",1,"modal-title"],[1,"text-justify"],["action","","method",""],["type","submit",1,"btn","btn-danger","btn-block","rounded-0",3,"click"],["type","button","data-dismiss","modal",1,"btn","btn-secondary","rounded-0"],["closeDeleteModal","","deleteModal",""],["id","launchSearchModal","data-toggle","modal","data-target","#editTeacherModal",1,"d-none"],["editModalBtn",""],["id","editTeacherModal","tabindex","-1","role","dialog","aria-labelledby","editTeacherModalLongTitle","aria-hidden","true",1,"modal","fade","bd-example-modal-lg"],["id","editTeacherModalLongTitle",1,"modal-title"],["btn_closeEditTeacher",""],["editTeacherForm","ngForm"],["for","editName",1,"col-sm-3","col-form-label"],["type","text","id","editName","placeholder","Nombre","name","editName","ngModel","",1,"form-control"],["editNameDOM",""],["for","editLastnameP",1,"col-sm-3","col-form-label"],["type","text","id","editLastnameP","placeholder","Apellido Paterno","name","editLastnameP","ngModel","",1,"form-control"],["editLastnamePDOM",""],["for","editLastnameM",1,"col-sm-3","col-form-label"],["type","text","id","editLastnameM","placeholder","Apellido Materno","name","editLastnameM","ngModel","",1,"form-control"],["editLastnameMDOM",""],["for","editGrade",1,"col-sm-3","col-form-label"],["type","text","id","editGrade","placeholder","Puesto","name","editGrade","ngModel","","readonly","",1,"form-control"],["editGradeDOM",""],["for","editTurn",1,"col-sm-3","col-form-label"],[4,"ngIf"],["for","editCourse",1,"col-sm-3","col-form-label"],["type","text","id","editCourse","placeholder","Materia","name","Subject","ngModel","",1,"form-control"],["for","editList",1,"col-sm-3","col-form-label"],["type","submit",1,"btn","btn-primary"],["id","searchTeacher","tabindex","-1","role","dialog","aria-labelledby","searchTeacherCenterTitle","aria-hidden","true",1,"modal","fade"],["id","searchTeacherCenterTitle",1,"modal-title"],["id","searchtable","class","tableScroll",4,"ngIf"],["searchModal",""],["role","alert","data-aos","fade-up","data-aos-duration","800",1,"d-flex","justify-content-center","alert","alert-primary"],["role","alert","data-aos","fade-up","data-aos-duration","800",1,"d-flex","justify-content-center","alert","alert-success"],["role","alert","data-aos","fade-up","data-aos-duration","800",1,"d-flex","justify-content-center","alert","alert-danger"],["scope","row"],["data-toggle","modal","data-target","#editTeacherModal",1,"btn","btn-primary","roundend-0",3,"click"],[1,"fas","fa-pencil-alt"],["data-toggle","modal","data-target","#deleteTeacher",1,"btn","btn-danger","roundend-0",3,"click"],[1,"fas","fa-trash"],[1,"page-item","clickeable","noselect",3,"click"],[1,"page-link","noselect",3,"click"],[1,"my-list","mb-2"],[1,"d-flex","align-items-center","col-sm-12"],[1,"col-sm-10"],[1,"col-sm-2","d-flex","justify-content-end"],[1,"btn","btn-danger",3,"click"],["role","alert",1,"alert","alert-danger"],["id","selectEditTurn","name","editTurn","ngModel","",1,"custom-select"],["id","searchtable",1,"tableScroll"],[1,"btn","btn-primary","roundend-0",3,"click"],[1,"btn","btn-danger","roundend-0",3,"click"],[1,"text-danger"]],template:function(e,t){1&e&&(d.fc(0,M,2,0,"div",0),d.fc(1,U,222,20,"div",1)),2&e&&(d.Xb("ngIf",t.loading),d.yb(1),d.Xb("ngIf",!t.loading))},directives:[i.i,h.k,h.d,h.e,h.a,h.c,h.f,h.h,i.h,h.i,h.g,h.j],pipes:[i.l],styles:[".table[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 0 10px #ccc}.tableScroll[_ngcontent-%COMP%]{overflow-x:scroll}#table[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:5px;background-color:#f5f5f5}#table[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px;height:5px;background-color:#f5f5f5}#table[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:5px;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:#888}.my-thead-hover[_ngcontent-%COMP%]:hover{background-color:#343a40}.my-form-register[_ngcontent-%COMP%]{height:38px}.my-list[_ngcontent-%COMP%]{list-style:none}.clickeable[_ngcontent-%COMP%]{cursor:pointer}"]}),e})()}];let J=(()=>{class e{}return e.\u0275mod=d.Gb({type:e}),e.\u0275inj=d.Fb({factory:function(t){return new(t||e)},imports:[[r.e.forChild(A)],r.e]}),e})(),F=(()=>{class e{}return e.\u0275mod=d.Gb({type:e}),e.\u0275inj=d.Fb({factory:function(t){return new(t||e)},imports:[[i.b,J]]}),e})()}}]);